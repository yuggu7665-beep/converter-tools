<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Converter - Converter Tools</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: { 500: '#3b82f6', 600: '#2563eb', 700: '#1d4ed8' },
                        dark: { 800: '#1e293b', 850: '#1a2332', 900: '#0f172a', 950: '#020617' }
                    }
                }
            }
        }
    </script>

    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body class="bg-gradient-to-br from-dark-950 via-dark-900 to-dark-850 text-gray-100 font-['Inter']">

    <nav class="sticky top-0 z-50 backdrop-blur-lg bg-dark-900/70 border-b border-gray-800">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <a href="../index.html" class="flex items-center gap-3">
                    <div
                        class="w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-700 rounded-lg flex items-center justify-center">
                        <i class="fas fa-exchange-alt text-white text-xl"></i>
                    </div>
                    <h1
                        class="text-2xl font-bold bg-gradient-to-r from-primary-400 to-primary-600 bg-clip-text text-transparent">
                        Converter Tools
                    </h1>
                </a>
                <a href="../index.html" class="text-gray-400 hover:text-primary-400 transition-colors">
                    <i class="fas fa-arrow-left mr-2"></i>Back to Home
                </a>
            </div>
        </div>
    </nav>

    <div class="container mx-auto px-4 py-12">
        <div class="max-w-4xl mx-auto">

            <div class="mb-8">
                <div class="flex items-center gap-3 mb-3">
                    <div
                        class="w-12 h-12 bg-gradient-to-br from-indigo-500 to-violet-500 rounded-xl flex items-center justify-center">
                        <i class="fas fa-palette text-white text-xl"></i>
                    </div>
                    <div>
                        <h2 class="text-3xl font-bold">Color Code Converter</h2>
                        <p class="text-gray-400">Convert between HEX, RGB, HSL, and CMYK</p>
                    </div>
                </div>
            </div>

            <div id="messageContainer"></div>

            <div class="bg-dark-850 border border-gray-800 rounded-2xl p-8">

                <div class="mb-6">
                    <label class="block text-sm font-semibold mb-2">
                        <i class="fas fa-palette mr-2 text-primary-500"></i>
                        Enter Color Code
                    </label>
                    <div class="flex gap-3">
                        <input type="color" id="colorPicker" class="w-20 h-12 cursor-pointer rounded-lg"
                            value="#FF5733">
                        <input type="text" id="colorInput"
                            class="flex-1 bg-dark-900 border border-gray-700 rounded-lg p-4 text-gray-100 focus:border-primary-500 focus:outline-none"
                            placeholder="#FF5733 or 255,87,51" value="#FF5733">
                    </div>
                </div>

                <div class="mb-6">
                    <label class="block text-sm font-semibold mb-2">
                        <i class="fas fa-list mr-2 text-primary-500"></i>
                        Input Format
                    </label>
                    <select id="formatSelect"
                        class="w-full bg-dark-900 border border-gray-700 rounded-lg p-3 text-gray-100 focus:border-primary-500 focus:outline-none">
                        <option value="hex">HEX (#FF5733)</option>
                        <option value="rgb">RGB (255,87,51)</option>
                    </select>
                </div>

                <button onclick="convertColor()"
                    class="w-full py-4 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-500 hover:to-primary-600 rounded-lg font-semibold text-white shadow-lg shadow-primary-500/30 transition-all transform hover:scale-105">
                    <i class="fas fa-sync-alt mr-2"></i>Convert Color
                </button>

                <div id="loadingIndicator" class="hidden mt-6 text-center">
                    <div class="spinner mx-auto"></div>
                    <p class="text-gray-400 mt-3">Converting...</p>
                </div>

                <div id="results" class="hidden mt-8">
                    <h3 class="text-xl font-semibold mb-4">
                        <i class="fas fa-check-circle mr-2 text-green-500"></i>
                        Converted Colors
                    </h3>

                    <!-- Color Preview -->
                    <div id="colorPreview" class="w-full h-32 rounded-lg mb-6 border-4 border-gray-700"></div>

                    <div class="grid gap-4">
                        <!-- HEX -->
                        <div class="bg-dark-900 border border-gray-700 rounded-lg p-4">
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="text-gray-400 text-sm mb-1">HEX</p>
                                    <p class="text-xl font-mono font-bold" id="resultHex">#FF5733</p>
                                </div>
                                <button onclick="copyValue('resultHex')"
                                    class="px-4 py-2 bg-primary-600 hover:bg-primary-500 rounded-lg">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                        </div>

                        <!-- RGB -->
                        <div class="bg-dark-900 border border-gray-700 rounded-lg p-4">
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="text-gray-400 text-sm mb-1">RGB</p>
                                    <p class="text-xl font-mono font-bold" id="resultRgb">rgb(255, 87, 51)</p>
                                    <p class="text-xs text-gray-500 mt-1" id="resultRgbValues">R: 255, G: 87, B: 51</p>
                                </div>
                                <button onclick="copyValue('resultRgb')"
                                    class="px-4 py-2 bg-primary-600 hover:bg-primary-500 rounded-lg">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                        </div>

                        <!-- HSL -->
                        <div class="bg-dark-900 border border-gray-700 rounded-lg p-4">
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="text-gray-400 text-sm mb-1">HSL</p>
                                    <p class="text-xl font-mono font-bold" id="resultHsl">hsl(9, 100%, 60%)</p>
                                    <p class="text-xs text-gray-500 mt-1" id="resultHslValues">H: 9, S: 100%, L: 60%</p>
                                </div>
                                <button onclick="copyValue('resultHsl')"
                                    class="px-4 py-2 bg-primary-600 hover:bg-primary-500 rounded-lg">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                        </div>

                        <!-- CMYK -->
                        <div class="bg-dark-900 border border-gray-700 rounded-lg p-4">
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="text-gray-400 text-sm mb-1">CMYK</p>
                                    <p class="text-xl font-mono font-bold" id="resultCmyk">cmyk(0%, 66%, 80%, 0%)</p>
                                    <p class="text-xs text-gray-500 mt-1" id="resultCmykValues">C: 0%, M: 66%, Y: 80%,
                                        K: 0%</p>
                                </div>
                                <button onclick="copyValue('resultCmyk')"
                                    class="px-4 py-2 bg-primary-600 hover:bg-primary-500 rounded-lg">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <div class="mt-8 p-6 bg-dark-850 border border-gray-800 rounded-2xl">
                <h3 class="text-lg font-semibold mb-3">
                    <i class="fas fa-lightbulb mr-2 text-yellow-500"></i>
                    Supported Formats
                </h3>
                <ul class="space-y-2 text-gray-400 text-sm">
                    <li><i class="fas fa-check text-primary-500 mr-2"></i><strong>HEX:</strong> #FF5733 or FF5733</li>
                    <li><i class="fas fa-check text-primary-500 mr-2"></i><strong>RGB:</strong> 255,87,51 or rgb(255,
                        87, 51)</li>
                    <li><i class="fas fa-check text-primary-500 mr-2"></i><strong>HSL:</strong> Hue, Saturation,
                        Lightness</li>
                    <li><i class="fas fa-check text-primary-500 mr-2"></i><strong>CMYK:</strong> Cyan, Magenta, Yellow,
                        Black</li>
                </ul>
            </div>

        </div>
    </div>

    <script src="../js/main.js"></script>
    <script src="../js/api.js"></script>
    <script>
        // Sync color picker with text input
        document.getElementById('colorPicker').addEventListener('input', function () {
            document.getElementById('colorInput').value = this.value;
            document.getElementById('formatSelect').value = 'hex';
        });

        document.getElementById('colorInput').addEventListener('input', function () {
            if (this.value.startsWith('#')) {
                document.getElementById('colorPicker').value = this.value;
            }
        });

        async function convertColor() {
            const colorValue = document.getElementById('colorInput').value.trim();
            const format = document.getElementById('formatSelect').value;

            if (!colorValue) {
                ConverterUtils.showError('Please enter a color code', 'messageContainer');
                return;
            }

            try {
                document.getElementById('loadingIndicator').classList.remove('hidden');
                document.getElementById('results').classList.add('hidden');
                document.getElementById('messageContainer').innerHTML = '';

                const result = await API.convertColor(colorValue, format);

                document.getElementById('loadingIndicator').classList.add('hidden');

                // Update preview
                document.getElementById('colorPreview').style.backgroundColor = result.hex;

                // Update values
                document.getElementById('resultHex').textContent = result.hex;
                document.getElementById('resultRgb').textContent = result.rgb;
                document.getElementById('resultRgbValues').textContent =
                    `R: ${result.rgb_values.r}, G: ${result.rgb_values.g}, B: ${result.rgb_values.b}`;
                document.getElementById('resultHsl').textContent = result.hsl;
                document.getElementById('resultHslValues').textContent =
                    `H: ${result.hsl_values.h}, S: ${result.hsl_values.s}%, L: ${result.hsl_values.l}%`;
                document.getElementById('resultCmyk').textContent = result.cmyk;
                document.getElementById('resultCmykValues').textContent =
                    `C: ${result.cmyk_values.c}%, M: ${result.cmyk_values.m}%, Y: ${result.cmyk_values.y}%, K: ${result.cmyk_values.k}%`;

                document.getElementById('results').classList.remove('hidden');
                ConverterUtils.showSuccess('Color converted successfully!', 'messageContainer');

            } catch (error) {
                document.getElementById('loadingIndicator').classList.add('hidden');
                ConverterUtils.showError(error.message || 'Failed to convert color', 'messageContainer');
            }
        }

        function copyValue(elementId) {
            const value = document.getElementById(elementId).textContent;
            navigator.clipboard.writeText(value).then(() => {
                ConverterUtils.showSuccess(`${value} copied to clipboard!`, 'messageContainer');
            });
        }

        document.getElementById('colorInput').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') convertColor();
        });
    </script>
</body>

</html>